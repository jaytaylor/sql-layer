#
# Originally hit due to a discrepency in how MergeJoinSorter
# determined end of stream with Map_NestedLoops
#

---
- CreateTable: auth_permission(id BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 30, INCREMENT BY 1) PRIMARY KEY,
                               name VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL,
                               content_type_id INT NOT NULL,
                               codename VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL)
---
- Statement: CREATE UNIQUE INDEX content_type_id ON auth_permission(content_type_id, codename)
---
- Statement: CREATE UNIQUE INDEX id ON auth_permission(id)
---
- Statement: CREATE INDEX auth_permission_e4470c6e ON auth_permission(content_type_id)
---
- Statement: INSERT INTO auth_permission VALUES
                (1, 'Can add permission', 1, 'add_permission'),
                (2, 'Can change permission', 1, 'change_permission'),
                (3, 'Can delete permission', 1, 'delete_permission'),
                (4, 'Can add group', 2, 'add_group'),
                (5, 'Can change group', 2, 'change_group'),
                (6, 'Can delete group', 2, 'delete_group'),
                (7, 'Can add user', 3, 'add_user'),
                (8, 'Can change user', 3, 'change_user'),
                (9, 'Can delete user', 3, 'delete_user'),
                (10, 'Can add message', 4, 'add_message'),
                (11, 'Can change message', 4, 'change_message'),
                (12, 'Can delete message', 4, 'delete_message'),
                (13, 'Can add content type', 5, 'add_contenttype'),
                (14, 'Can change content type', 5, 'change_contenttype'),
                (15, 'Can delete content type', 5, 'delete_contenttype'),
                (16, 'Can add session', 6, 'add_session'),
                (17, 'Can change session', 6, 'change_session'),
                (18, 'Can delete session', 6, 'delete_session'),
                (19, 'Can add site', 7, 'add_site'),
                (20, 'Can change site', 7, 'change_site'),
                (21, 'Can delete site', 7, 'delete_site'),
                (22, 'Can add poll', 8, 'add_poll'),
                (23, 'Can change poll', 8, 'change_poll'),
                (24, 'Can delete poll', 8, 'delete_poll'),
                (25, 'Can add choice', 9, 'add_choice'),
                (26, 'Can change choice', 9, 'change_choice'),
                (27, 'Can delete choice', 9, 'delete_choice')

---
- CreateTable: django_content_type(id BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 12, INCREMENT BY 1) PRIMARY KEY,
                                   name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL,
                                   app_label VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL,
                                   model VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL)
---
- Statement: CREATE UNIQUE INDEX app_label ON django_content_type(app_label, model)
---
- Statement: CREATE UNIQUE INDEX id ON django_content_type(id)
---
- Statement: INSERT INTO django_content_type VALUES
                (1, 'permission', 'auth', 'permission'),
                (2, 'group', 'auth', 'group'),
                (3, 'user', 'auth', 'user'),
                (4, 'message', 'auth', 'message'),
                (5, 'content type', 'contenttypes', 'contenttype'),
                (6, 'session', 'sessions', 'session'),
                (7, 'site', 'sites', 'site'),
                (8, 'poll', 'polls', 'poll'),
                (9, 'choice', 'polls', 'choice')

# Returned all rows
---
- Statement: SELECT a.content_type_id, a.codename FROM auth_permission a
                INNER JOIN django_content_type d
                    ON (a.content_type_id = d.id)
                WHERE a.content_type_id IN (5)
                ORDER BY d.app_label ASC, d.model ASC, a.codename ASC
- output_already_ordered: [ [5, 'add_contenttype'], [5, 'change_contenttype'], [5, 'delete_contenttype'] ]

# Returned first of expected rows
---
- Statement: SELECT a.content_type_id, a.codename FROM auth_permission a
                INNER JOIN django_content_type d
                    ON (a.content_type_id = d.id)
                WHERE a.content_type_id IN (5)
                ORDER BY d.app_label ASC, d.model ASC
- output_already_ordered: [ [5, 'add_contenttype'], [5, 'change_contenttype'], [5, 'delete_contenttype'] ]