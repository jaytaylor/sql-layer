---
- CreateTable: people (pid INT NOT NULL PRIMARY KEY, name VARCHAR(32) COLLATE utf8_bin);
---
- CreateTable: addresses (
    aid INT NOT NULL PRIMARY KEY,
    pid INT NOT NULL,
    street VARCHAR(32) COLLATE utf8_bin,
    GROUPING FOREIGN KEY (pid) REFERENCES people (pid))
---
- JMX: com.akiban:type=IndexStatistics
- method: dumpIndexStatisticsToString
- params: ['test']
- output:
    - ['']
---
- Include: histograms-basic-data.yaml
---
- Statement: CREATE INDEX name_address ON addresses (addresses.street, people.name) USING LEFT JOIN
---
- JMX: com.akiban:type=IndexStatistics
- method: dumpIndexStatisticsToString
- params: ['test']
- output:
    - ['']
---
- Statement: ALTER TABLE people ALL UPDATE STATISTICS;
---
- JMX: com.akiban:type=IndexStatistics
- method: dumpIndexStatisticsToString
- params: ['test']
- split_result:
    - ["Index: PRIMARY"]
    - ["RowCount: 100"]
    - ["SampledCount: 100"]
    - ["Statistics:"]
    - ["- Columns: 1"]
    - ["  Histogram:"]
    - ["  - distinct: 3"]
    - ["    eq: 1"]
    - ["    key: [4]"]
    - ["    lt: 3"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [7]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [10]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [13]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [16]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [19]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [22]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [25]"]
    - ["    lt: 2"]
    - ["  - distinct: 3"]
    - ["    eq: 1"]
    - ["    key: [29]"]
    - ["    lt: 3"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [32]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [35]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [38]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [41]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [44]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [47]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [50]"]
    - ["    lt: 2"]
    - ["  - distinct: 3"]
    - ["    eq: 1"]
    - ["    key: [54]"]
    - ["    lt: 3"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [57]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [60]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [63]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [66]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [69]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [72]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [75]"]
    - ["    lt: 2"]
    - ["  - distinct: 3"]
    - ["    eq: 1"]
    - ["    key: [79]"]
    - ["    lt: 3"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [82]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [85]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [88]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [91]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [94]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [97]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [100]"]
    - ["    lt: 2"]
    - ["Table: people"]
    - [!dc dc]
---
- Statement: ALTER TABLE addresses ALL UPDATE STATISTICS;
---
- JMX: com.akiban:type=IndexStatistics
- method: dumpIndexStatisticsToString
- params: ['test']
- split_result: 
    - ["Index: name_address"]
    - ["RowCount: 200"]
    - ["SampledCount: 200"]
    - ["Statistics:"]
    - ["- Columns: 1"]
    - ["  Histogram:"]
    - ["  - distinct: 0"]
    - ["    eq: 8"]
    - ["    key: [null]"]
    - ["    lt: 0"]
    - ["  - distinct: 0"]
    - ["    eq: 100"]
    - ["    key: [Even Street]"]
    - ["    lt: 0"]
    - ["  - distinct: 0"]
    - ["    eq: 11"]
    - ["    key: [Forest Ave]"]
    - ["    lt: 0"]
    - ["  - distinct: 0"]
    - ["    eq: 1"]
    - ["    key: [Street 1]"]
    - ["    lt: 0"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 105]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 111]"]
    - ["    lt: 2"]
    - ["  - distinct: 3"]
    - ["    eq: 1"]
    - ["    key: [Street 123]"]
    - ["    lt: 3"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 129]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 133]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 141]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 149]"]
    - ["    lt: 2"]
    - ["  - distinct: 3"]
    - ["    eq: 1"]
    - ["    key: [Street 157]"]
    - ["    lt: 3"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 163]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 17]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 177]"]
    - ["    lt: 2"]
    - ["  - distinct: 3"]
    - ["    eq: 1"]
    - ["    key: [Street 185]"]
    - ["    lt: 3"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 193]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 199]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 25]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 31]"]
    - ["    lt: 2"]
    - ["  - distinct: 3"]
    - ["    eq: 1"]
    - ["    key: [Street 41]"]
    - ["    lt: 3"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 49]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 53]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 61]"]
    - ["    lt: 2"]
    - ["  - distinct: 3"]
    - ["    eq: 1"]
    - ["    key: [Street 7]"]
    - ["    lt: 3"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 75]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 85]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 91]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [Street 97]"]
    - ["    lt: 2"]
    - ["- Columns: 2"]
    - ["  Histogram:"]
    - ["  - distinct: 6"]
    - ["    eq: 1"]
    - ["    key: [null, person-083]"]
    - ["    lt: 6"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Even Street, person-005]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Even Street, person-011]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Even Street, person-017]"]
    - ["    lt: 5"]
    - ["  - distinct: 6"]
    - ["    eq: 1"]
    - ["    key: [Even Street, person-024]"]
    - ["    lt: 6"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Even Street, person-030]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Even Street, person-036]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Even Street, person-042]"]
    - ["    lt: 5"]
    - ["  - distinct: 6"]
    - ["    eq: 1"]
    - ["    key: [Even Street, person-049]"]
    - ["    lt: 6"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Even Street, person-055]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Even Street, person-061]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Even Street, person-067]"]
    - ["    lt: 5"]
    - ["  - distinct: 6"]
    - ["    eq: 1"]
    - ["    key: [Even Street, person-074]"]
    - ["    lt: 6"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Even Street, person-080]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Even Street, person-086]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Even Street, person-092]"]
    - ["    lt: 5"]
    - ["  - distinct: 6"]
    - ["    eq: 1"]
    - ["    key: [Even Street, person-099]"]
    - ["    lt: 6"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Forest Ave, person-041]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Forest Ave, person-095]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Street 109, person-055]"]
    - ["    lt: 5"]
    - ["  - distinct: 6"]
    - ["    eq: 1"]
    - ["    key: [Street 127, person-064]"]
    - ["    lt: 6"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Street 139, person-070]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Street 151, person-076]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Street 167, person-084]"]
    - ["    lt: 5"]
    - ["  - distinct: 6"]
    - ["    eq: 1"]
    - ["    key: [Street 181, person-091]"]
    - ["    lt: 6"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Street 195, person-098]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Street 29, person-015]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Street 41, person-021]"]
    - ["    lt: 5"]
    - ["  - distinct: 6"]
    - ["    eq: 1"]
    - ["    key: [Street 57, person-029]"]
    - ["    lt: 6"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Street 7, person-004]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Street 85, person-043]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [Street 97, person-049]"]
    - ["    lt: 5"]
    - ["Table: people"]
    - [!dc dc]
    - ["---"]
    - ["Index: PRIMARY"]
    - ["RowCount: 200"]
    - ["SampledCount: 200"]
    - ["Statistics:"]
    - ["- Columns: 1"]
    - ["  Histogram:"]
    - ["  - distinct: 6"]
    - ["    eq: 1"]
    - ["    key: [7]"]
    - ["    lt: 6"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [13]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [19]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [25]"]
    - ["    lt: 5"]
    - ["  - distinct: 6"]
    - ["    eq: 1"]
    - ["    key: [32]"]
    - ["    lt: 6"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [38]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [44]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [50]"]
    - ["    lt: 5"]
    - ["  - distinct: 6"]
    - ["    eq: 1"]
    - ["    key: [57]"]
    - ["    lt: 6"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [63]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [69]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [75]"]
    - ["    lt: 5"]
    - ["  - distinct: 6"]
    - ["    eq: 1"]
    - ["    key: [82]"]
    - ["    lt: 6"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [88]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [94]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [100]"]
    - ["    lt: 5"]
    - ["  - distinct: 6"]
    - ["    eq: 1"]
    - ["    key: [107]"]
    - ["    lt: 6"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [113]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [119]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [125]"]
    - ["    lt: 5"]
    - ["  - distinct: 6"]
    - ["    eq: 1"]
    - ["    key: [132]"]
    - ["    lt: 6"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [138]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [144]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [150]"]
    - ["    lt: 5"]
    - ["  - distinct: 6"]
    - ["    eq: 1"]
    - ["    key: [157]"]
    - ["    lt: 6"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [163]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [169]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [175]"]
    - ["    lt: 5"]
    - ["  - distinct: 6"]
    - ["    eq: 1"]
    - ["    key: [182]"]
    - ["    lt: 6"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [188]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [194]"]
    - ["    lt: 5"]
    - ["  - distinct: 5"]
    - ["    eq: 1"]
    - ["    key: [200]"]
    - ["    lt: 5"]
    - ["Table: addresses"]
    - [!dc dc]
    - ["---"]
    - ["Index: PRIMARY"]
    - ["RowCount: 100"]
    - ["SampledCount: 100"]
    - ["Statistics:"]
    - ["- Columns: 1"]
    - ["  Histogram:"]
    - ["  - distinct: 3"]
    - ["    eq: 1"]
    - ["    key: [4]"]
    - ["    lt: 3"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [7]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [10]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [13]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [16]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [19]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [22]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [25]"]
    - ["    lt: 2"]
    - ["  - distinct: 3"]
    - ["    eq: 1"]
    - ["    key: [29]"]
    - ["    lt: 3"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [32]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [35]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [38]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [41]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [44]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [47]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [50]"]
    - ["    lt: 2"]
    - ["  - distinct: 3"]
    - ["    eq: 1"]
    - ["    key: [54]"]
    - ["    lt: 3"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [57]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [60]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [63]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [66]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [69]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [72]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [75]"]
    - ["    lt: 2"]
    - ["  - distinct: 3"]
    - ["    eq: 1"]
    - ["    key: [79]"]
    - ["    lt: 3"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [82]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [85]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [88]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [91]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [94]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [97]"]
    - ["    lt: 2"]
    - ["  - distinct: 2"]
    - ["    eq: 1"]
    - ["    key: [100]"]
    - ["    lt: 2"]
    - ["Table: people"]
    - [!dc dc]
...