{

"setup" : {
    "processors_default" : ["scanrows"],

    "schema" : "test",

    "tables" : [
        ["dates", "id int not null primary key", "d date", "index(d)"]
    ],

    "write_rows" : {
        "dates"  : [
            [1, "2011-04-07"],
            [2, "1901-01-01"],
            [3, "0000-00-00"]
        ]
    }
},

"tests" : {
    "select_all" : {
        "get" : "test:dates:id>0",
        "expect result" : {
            "@dates" : [
                {"id" : 1, "d" : "2011-04-07"},
                {"id" : 2, "d" : "1901-01-01"},
                {"id" : 3, "d" : "0000-00-00"}
            ]
        }
    },

    "index_less_year" : {
        "get" : "test:dates:d<'1950'",
        "expect result" : {
            "@dates" : [
                {"id" : 3, "d" : "0000-00-00"},
                {"id" : 2, "d" : "1901-01-01"}
            ]
        }
    },

    "index_less_full" : {
        "get" : "test:dates:d<'1901-00-00'",
        "expect result" : {
            "@dates" : [
                {"id" : 3, "d" : "0000-00-00"}
            ]
        }
    },

    "index_equal_year" : {
        "get" : "test:dates:d='2011'",
        "expect result" : {
            "@dates" : [
            ]
        }
    },

    "index_equal_full" : {
        "get" : "test:dates:d='2011-04-07'",
        "expect result" : {
            "@dates" : [
                {"id" : 1, "d" : "2011-04-07"},
            ]
        }
    },

    "index_greater_year" : {
        "get" : "test:dates:d>'1850'",
        "expect result" : {
            "@dates" : [
                {"id" : 2, "d" : "1901-01-01"},
                {"id" : 1, "d" : "2011-04-07"}
            ]
        }
    },

    "index_greater_full" : {
        "get" : "test:dates:d>'1901-01-01'",
        "expect result" : {
            "@dates" : [
                {"id" : 1, "d" : "2011-04-07"}
            ]
        }
    }
}

}
